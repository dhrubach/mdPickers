<md-dialog aria-label="" class="md-datepicker" ng-class="{'portrait': !$mdMedia('gt-md') }">
    <md-dialog-content layout="row" layout-wrap>
        <div layout="column" layout-align="start center">
            <md-toolbar layout-align="center center" class="md-datepicker-dow md-primary"><span>{{ datepicker.currentMoment.format("dddd") }}</span>
            </md-toolbar>
            <md-toolbar layout-align="center center" class="md-datepicker-date md-hue-1 md-primary" layout="column">
                <div class="md-datepicker-month">{{ datepicker.currentMoment.format("MMM") }}</div>
                <div class="md-datepicker-day">{{ datepicker.currentMoment.format("DD") }}</div>
                <md-select class="md-datepicker-year" placeholder="{{ datepicker.currentMoment.format('YYYY') }}"
                           ng-model="datepicker.year" ng-change="datepicker.setYear()">
                    <md-option ng-value="year" ng-repeat="year in datepicker.yearsOptions">{{ year }}</md-option>
                </md-select>
            </md-toolbar>
        </div>
        <div layout="column" layout-align="start center" class="md-datepicker-calendar">
            <div layout="row" layout-align="space-between center" class="md-datepicker-monthyear">
                <md-button aria-label="mese precedente" class="md-icon-button" ng-click="datepicker.prevMonth()">
                    <md-icon md-font-set="material-icons">chevron_left</md-icon>
                </md-button>
                <md-select class="md-datepicker-month" placeholder="{{ datepicker.currentMoment.format('MMMM') }}"
                           ng-model="datepicker.month" ng-change="datepicker.setMonth()">
                    <md-option ng-value="month" ng-repeat="month in datepicker.monthOptions">{{ month }}</md-option>
                </md-select>
                <md-button aria-label="mese successivo" class="md-icon-button" ng-click="datepicker.nextMonth()">
                    <md-icon md-font-set="material-icons">chevron_right</md-icon>
                </md-button>
            </div>
            <div layout="row" layout-align="space-around center" class="md-datepicker-week-days">
                <div layout layout-align="center center" ng-repeat="d in datepicker.weekDays track by $index">
                    {{ d }}
                </div>
            </div>
            <div layout="row" layout-wrap class="md-datepicker-days">
                <div layout layout-align="center center"
                     ng-repeat-start="n in datepicker.getDaysInMonth() track by $index">
                    <md-button aria-label="seleziona giorno" ng-if="n !== false"
                               ng-class="{'md-accent': datepicker.currentMoment.date() == n}"
                               ng-click="datepicker.selectDate(n)">
                        {{ n }}
                    </md-button>
                </div>
                <div flex ng-if="($index + 1) % 7 == 0" ng-repeat-end></div>
            </div>
        </div>
    </md-dialog-content>
    <div class="md-actions" layout="row">
        <md-button ng-click="datepicker.cancel()" aria-label="annulla">Cancel</md-button>
        <md-button ng-click="datepicker.confirm()" aria-label="ok">OK</md-button>
    </div>
</md-dialog>